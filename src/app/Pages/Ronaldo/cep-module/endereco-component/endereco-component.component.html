<form novalidate [formGroup]="EndViaCep">
  <div  *ngIf="EnderecoObj != null">
    <div class="card card-danger">
      <div class="card-header">
        <h3 class="card-title">Endereço</h3>
      </div>
      <div class="card-body">
        
        <div class="row">
            <div class="form-group col-md-6">
              <label>LOGRADOURO</label>
              <input type="text" class="form-control" placeholder="Endereço"  formControlName="logradouro" [(ngModel)]="EnderecoObj.logradouro"
              
              [ngClass]="{'is-invalid': (EndViaCep.get('logradouro')?.errors && 
                    (EndViaCep.get('logradouro')?.touched || EndViaCep.get('logradouro')?.dirty)), 
                    'is-valid': EndViaCep.get('logradouro')?.valid}">

              <span class="text-danger" *ngIf="(EndViaCep.get('logradouro')?.errors?.minlength
                          && (EndViaCep.get('logradouro')?.touched || EndViaCep.get('logradouro')?.dirty))">
                        <p >Minimo de caracteres é 2 maximo 150</p>
            </span>
              <span class="text-danger" *ngIf="(EndViaCep.get('logradouro')?.errors?.required
                          && (EndViaCep.get('logradouro')?.touched || EndViaCep.get('logradouro')?.dirty))">
              <p >Por favor preencha o campo</p>
              </span>
            </div>

            <div class="form-group col-md-6">
              <label>COMPLEMENTO</label>
              <input type="text" class="form-control" placeholder="Bairro" 
                    [(ngModel)]=EnderecoObj.complemento formControlName="complemento">
            </div>
          </div>

          <div class="row">
            <div class="form-group col-md-6">
            <label>Bairro</label>
            <input type="text" class="form-control" placeholder="Bairro" 
              [(ngModel)]=EnderecoObj.bairro formControlName="bairro"
              [ngClass]="{
                          'is-invalid': EndViaCep.get('bairro')?.errors &&  (EndViaCep.get('bairro')?.touched || EndViaCep.get('bairro')?.dirty),
                          'is-valid': EndViaCep.get('bairro')?.valid
                        }"
              >

            <span class="text-danger" *ngIf="(EndViaCep.get('bairro')?.errors?.minlength
                      && (EndViaCep.get('bairro')?.touched || EndViaCep.get('bairro')?.dirty))">
                    <p >Minimo de caracteres é 2 maximo 150</p>
            </span>
            <span class="text-danger" *ngIf="(EndViaCep.get('bairro')?.errors?.required
                          && (EndViaCep.get('bairro')?.touched || EndViaCep.get('bairro')?.dirty))">
                      <p >Por favor preencha o campo</p>
            </span>

          </div>
          <div class="form-group  col-md-6">
            <label>Cidade</label>
            <select class="form-control " placeholder="Cidade"  [(ngModel)]=EnderecoObj.localidade  
                                          formControlName="localidade"
                                          [ngClass]="{'is-invalid': EnderecoObj.localidade === '',
                                          'is-valid': EndViaCep.get('localidade')?.valid
                                        }"
                                           >
                        <option value="">SELECIONE A CIDADE</option>
                        <option value="SUZANO">SUZANO</option>
                        <option value="CAMPOS GERAIS">CAMPOS GERAIS</option>
            </select>
            <span class="text-danger" *ngIf="EnderecoObj.localidade === '' ">
                    <p >Selecione uma cidade</p></span>
           </div>
        </div>
        
        <div class="row">
          <div class="form-group col-md-2">
            <label>UF</label>
            <select class="form-control " placeholder="UF"   [(ngModel)]=EnderecoObj.uf  
                  formControlName="uf"  (ngModelChange)="mudarCidade($event)" 
                  [ngClass]="{'is-invalid': EnderecoObj.uf === '',
                  'is-valid': EndViaCep.get('uf')?.valid
                }"
                  >
              <option value="">SELECIONE O ESTADO</option>
              <option value="SP">SP</option>
              <option value="MG">MG</option>
            </select>
            <span class="text-danger" *ngIf="EnderecoObj.uf === '' ">
                <p >Selecione um Estado</p>
            </span>
          </div>


          <div class="form-group col-md-3">
            <label>IBGE</label>
            <input type="text" class="form-control" placeholder="ibge" [(ngModel)]=EnderecoObj.ibge  formControlName="ibge">
          </div>
          <div class="form-group col-md-3">
            <label>GIA</label>
            <input type="text" class="form-control" placeholder="gia" [(ngModel)]=EnderecoObj.gia  formControlName="gia">
          </div>

          <div class="form-group  col-md-3">
            <label>DDD</label>
            <input type="number" class="form-control" placeholder="ddd" [(ngModel)]=EnderecoObj.ddd  formControlName="ddd"
            max="99"
            min="10"
            [ngClass]="{'is-invalid': (EndViaCep.get('ddd')?.errors && 
            (EndViaCep.get('ddd')?.touched || EndViaCep.get('ddd')?.dirty)),
            'is-valid': EndViaCep.get('ddd')?.valid
          }"
            >
          </div>

          <div class="form-group col-md-2">
            <label>SIAFI</label>
            <input type="text" class="form-control" placeholder="siafi" [(ngModel)]=EnderecoObj.siafi  formControlName="siafi">
          </div>

        
        </div>

        <div class="form-group " >
          <button class="btn btn-success" [disabled]="!EndViaCep.valid" (click)="EnviarParaOPaiCadEndereco()">CADASTRAR</button>
        </div>
      </div>
    </div>
  </div>
</form>